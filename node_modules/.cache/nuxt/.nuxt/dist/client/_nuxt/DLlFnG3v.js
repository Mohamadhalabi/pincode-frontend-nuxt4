import{_ as j}from"./CV0r2NXO.js";import{_ as D}from"./Dgi673JG.js";import{i as Y,e as L,q as H,s as K,v as R,x as Q,f as q,k as W,u as G,c as r,a as s,m as _,b,t as o,w as T,F as m,r as p,h as c,o as a,d as C,n as P,p as g,y as J,z as X,A as Z}from"./ClNtL1l2.js";import{u as tt}from"./C8iguzjs.js";import{u as et,a as st,r as ot}from"./B0LqZtKm.js";import{u as nt}from"./BKRRKjx3.js";const at={class:"space-y-12"},it={class:"relative overflow-hidden rounded-2xl bg-gray-100"},rt={class:"relative h-[260px] sm:h-[320px]"},lt={class:"absolute inset-0 flex items-center"},ct={class:"px-6 sm:px-10"},dt={class:"max-w-xl bg-white/90 backdrop-blur rounded-2xl p-6 sm:p-8 shadow-md"},ut={class:"text-2xl sm:text-3xl font-bold mb-3"},_t={class:"text-sm text-gray-700 space-y-1 mb-5"},mt={class:"flex gap-3"},ht={class:"space-y-4"},xt={class:"text-center"},kt={class:"text-2xl sm:text-2xl font-extrabold tracking-tight"},bt={class:"relative"},gt={class:"flex gap-6 items-center justify-start px-2 py-2 w-60"},ft={key:1,class:"text-lg font-semibold tracking-wide"},yt={key:0,class:"space-y-5"},pt={class:"flex items-baseline justify-between"},vt={class:"text-xl sm:text-2xl font-bold"},Nt={class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3"},wt={class:"pack-card__header pack-card__header--dark text-center z-10"},It={class:"text-sm sm:text-md font-bold tracking-tight text-white leading-snug"},$t={class:"pack-card__body flex-1 flex flex-col z-10"},qt={class:"text-center"},Tt={class:"inline-block text-red-700 text-base font-bold"},Ct={key:1,class:"text-green-600 text-center font-semibold text-xs mb-2"},Pt={class:"tier-table"},Vt={class:"text-left"},Ft={class:"text-right"},St={key:0},At={key:1},Et={class:"text-right"},Mt={class:"font-bold text-red-700"},zt={class:"text-gray-400 line-through ml-1"},Bt={key:1,class:"font-semibold text-gray-900"},Ot={class:"text-center mb-3"},Ut={class:"text-2xl font-black text-gray-900 leading-none"},jt={class:"text-xs text-gray-400 line-through mt-1"},Dt={key:1,class:"text-xl font-black text-red-500 leading-none"},Yt={class:"flex items-center gap-2"},Lt=["onUpdate:modelValue"],Ht=["onClick"],Kt={key:1,class:"text-red-600 text-sm"},te=Y({__name:"index",async setup(Rt){let h,v;const{locale:V,t:N}=L(),F=tt(),{show:S}=et(),d=H({});function x(t){return(t.pricing_tiers||[]).slice().sort((n,l)=>(n.min_qty||1)-(l.min_qty||1))}function A(t,n){const l=Math.max(1,Number(n||1)),u=x(t);for(let e=0;e<u.length;e++){const i=u[e],k=i.max_qty??Number.POSITIVE_INFINITY;if(l>=(i.min_qty||1)&&l<=k)return e}return-1}function f(t,n){const l=Math.max(1,Number(n||1)),u=x(t);for(const e of u){const i=e.max_qty??Number.POSITIVE_INFINITY;if(l>=(e.min_qty||1)&&l<=i)return Number(e.sale_price_usd??e.price_usd??0)}return Number((t.sale_price_usd??t.price_usd)||0)}function w(t,n){const l=Math.max(1,Number(n||1)),u=x(t);for(const e of u){const i=e.max_qty??Number.POSITIVE_INFINITY;if(l>=(e.min_qty||1)&&l<=i)return e.sale_price_usd?Number(e.price_usd):null}return t.sale_price_usd?Number(t.price_usd):null}function E(t){const n=Math.max(1,Number(d[t.id]||1)),l=f(t,n);F.add({product_id:t.id,product_type:"token-pack",slug:t.slug||String(t.id),sku:t.sku||t.slug||String(t.id),name:t.name,price:l,qty:n,image:t.image_url||null,meta:{tokens:t.tokens,base_price_usd:Number(t.price_usd||0),sale_price_usd:t.sale_price_usd!=null?Number(t.sale_price_usd):null,pricing_tiers:t.pricing_tiers||null}}),S({img:t.image_url||null,title:t.name,sku:t.sku||t.slug||String(t.id)})}const{get:M}=nt(),z=()=>M("/token-packs"),{data:y,error:B}=([h,v]=K(()=>st("home-packs",z,{server:!0,immediate:!0})),h=await h,v(),h);R(()=>{y.value&&y.value.forEach(t=>{d[t.id]||(d[t.id]=1)})}),Q(V,()=>ot(["home-packs"]));const I=q(()=>y.value??[]),$=q(()=>{const t=B.value;return t?.statusMessage||t?.message||""}),O=[{key:"kia",name:"KIA",logo:"/img/brands/kia.svg"},{key:"hyundai",name:"HYUNDAI",logo:"/img/brands/hyundai.svg"},{key:"toyota",name:"TOYOTA",logo:"/img/brands/toyota.svg"}],U=W(null);return G({title:N("seo.title")||"Immobilizer PIN Code Calculator",meta:[{name:"description",content:N("seo.desc")||"VIN→PIN and token packs."}]}),(t,n)=>{const l=j,u=D;return a(),r("div",at,[s("section",it,[s("div",rt,[b(l,{src:"/img/4884273.jpg",class:"w-full h-full object-cover",format:"webp",alt:"Kia / Hyundai VIN to PIN"}),n[3]||(n[3]=s("div",{class:"absolute inset-0 bg-gradient-to-r from-black/50 via-black/30 to-transparent"},null,-1)),s("div",lt,[s("div",ct,[s("div",dt,[s("h1",ut,o(t.$t("hero.headline")||"Why choose our PIN Code platform?"),1),s("ul",_t,[s("li",null,"• "+o(t.$t("hero.points.instant")||"Instant calculation 24/7"),1),s("li",null,"• "+o(t.$t("hero.points.noRenewal")||"No renewal fees · tokens never expire"),1),s("li",null,"• "+o(t.$t("hero.points.easy")||"Easy to Use"),1)]),s("div",mt,[b(u,{to:"/new-lookup",class:"btn"},{default:T(()=>[C(o(t.$t("btn.newLookup")||"New VIN Lookup"),1)]),_:1}),b(u,{to:"/buy",class:"btn btn-ghost"},{default:T(()=>[C(o(t.$t("btn.buyTokens")||"Buy Tokens"),1)]),_:1})])])])])])]),s("section",ht,[s("div",xt,[s("h2",kt,o(t.$t("home.supportedBrands")||"Supported Brands"),1)]),s("div",bt,[s("div",{ref_key:"brandRail",ref:U,class:"overflow-x-auto scroll-smooth [-ms-overflow-style:none] [scrollbar-width:none]"},[s("div",gt,[(a(),r(m,null,p(O,e=>s("div",{key:e.key,class:"brand-pill"},[e.logo?(a(),P(l,{key:0,src:e.logo,alt:e.name,format:"webp",class:"h-10 w-auto object-contain"},null,8,["src","alt"])):(a(),r("span",ft,o(e.name),1))])),64))])],512)])]),c(I).length?(a(),r("section",yt,[s("div",pt,[s("h3",vt,o(t.$t("home.tokenPacks")||"Token Packs"),1)]),s("div",Nt,[(a(!0),r(m,null,p(c(I),e=>(a(),r("article",{key:e.id,class:"pack-card flex flex-col relative group"},[b(u,{to:`/product/${e.slug||e.id}`,class:"absolute inset-0 z-0","aria-label":`Open ${e.name}`},null,8,["to","aria-label"]),s("header",wt,[s("h4",It,o(e.name),1)]),s("div",$t,[s("div",qt,[s("span",Tt,o(e.tokens)+" "+o(t.$t("tokens")||"tokens"),1)]),e.image_url?(a(),P(l,{key:0,src:e.image_url,format:"webp",class:"pack-image",modifiers:{fit:"contain",background:"white"},alt:""},null,8,["src"])):_("",!0),e.sku?(a(),r("p",Ct," SKU: "+o(e.sku),1)):_("",!0),e.pricing_tiers?.length?(a(),r("div",{key:2,class:"tier-box mb-3",onClick:n[0]||(n[0]=g(()=>{},["stop"]))},[s("table",Pt,[s("thead",null,[s("tr",null,[s("th",Vt,o(t.$t("common.quantity")||"Quantity"),1),s("th",Ft,o(t.$t("common.price")||"Price"),1)])]),s("tbody",null,[(a(!0),r(m,null,p(x(e),(i,k)=>(a(),r("tr",{key:k,class:J([k===A(e,c(d)[e.id])?"tier-row--active":""])},[s("td",null,[i.max_qty?(a(),r("span",St,o(i.min_qty)+"–"+o(i.max_qty),1)):(a(),r("span",At,o(i.min_qty)+"+",1))]),s("td",Et,[i.sale_price_usd?(a(),r(m,{key:0},[s("span",Mt," $"+o(Number(i.sale_price_usd).toFixed(2)),1),s("span",zt," $"+o(Number(i.price_usd).toFixed(2)),1)],64)):(a(),r("span",Bt," $"+o(Number(i.price_usd).toFixed(2)),1))])],2))),128))])])])):_("",!0),s("div",Ot,[w(e,c(d)[e.id])?(a(),r(m,{key:0},[s("div",Ut," $"+o(f(e,c(d)[e.id]).toFixed(2)),1),s("div",jt," $"+o(w(e,c(d)[e.id]).toFixed(2)),1)],64)):(a(),r("div",Dt," $"+o(f(e,c(d)[e.id]).toFixed(2)),1))]),s("div",{class:"mt-auto",onClick:n[2]||(n[2]=g(()=>{},["stop"]))},[s("div",Yt,[X(s("input",{"onUpdate:modelValue":i=>c(d)[e.id]=i,type:"number",min:"1",class:"w-14 rounded-lg border px-2 py-2 text-center text-sm",onClick:n[1]||(n[1]=g(()=>{},["stop"]))},null,8,Lt),[[Z,c(d)[e.id],void 0,{number:!0}]]),s("button",{class:"btn w-full",onClick:g(i=>E(e),["stop"])},o(t.$t("btn.addToCart")||"Add To Cart"),9,Ht)])])])]))),128))])])):_("",!0),c($)?(a(),r("div",Kt,o(c($)),1)):_("",!0)])}}});export{te as default};
