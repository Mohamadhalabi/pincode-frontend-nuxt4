import{_ as qe}from"./DsN7wOsT.js";import{_ as Ie}from"./Q7S53kZ7.js";import{i as Ce,H as Te,e as Se,k as v,f as m,s as Fe,x as Me,q as ne,l as Le,u as Pe,c as l,m as g,h as o,a as n,b as R,w as Y,t as i,I as Ue,n as re,y as q,z as I,J as Oe,F as b,r as C,D as B,d as T,p as le,g as De,o as r}from"./CNQ7mN1-.js";import{a as Ve,u as Ae,b as He,r as Re}from"./DCtrGtI5.js";import{u as Be}from"./BexhIfcK.js";function Ee(ie){return new URL(globalThis.location.href)}const ze={class:"max-w-6xl mx-auto px-4 sm:px-6 py-6 sm:py-8"},We={key:0,class:"mb-4 sm:mb-6","aria-label":"Breadcrumb"},Qe={class:"flex flex-wrap items-center gap-1 text-sm text-gray-600"},je={class:"text-gray-900 font-medium truncate max-w-[60%] sm:max-w-none"},Je={key:1,class:"grid gap-6 md:gap-8 md:grid-cols-2"},Ye={key:2,class:"text-red-600 text-sm"},Ke={key:3,class:"grid gap-6 md:gap-8 md:grid-cols-2"},Ze={class:"space-y-3"},Ge={key:1,class:"w-full rounded-2xl border bg-gray-50 grid place-items-center text-gray-400 h-72"},Xe={class:"space-y-6 lg:space-y-8 lg:sticky lg:top-24 self-start"},et={class:"space-y-3"},tt={class:"text-2xl sm:text-3xl font-extrabold leading-tight text-gray-900"},st={class:"flex flex-wrap items-center gap-2"},at={class:"badge badge-tokens"},ot={key:0,class:"badge badge-sku"},nt=["to"],rt={class:"py-2"},lt={key:0,class:"flex items-end gap-3"},it={class:"text-4xl font-black text-[#e63946] tracking-tight leading-none"},ct={class:"text-xl text-gray-400 line-through leading-none pb-1"},ut={key:1,class:"text-4xl font-black text-[#0e5e6f] tracking-tight leading-none"},dt={class:"space-y-6"},mt={class:"qty-control max-w-[140px]"},pt={key:0,class:"bg-gray-50 border border-gray-100 rounded-xl p-5 space-y-4"},gt={class:"text-sm font-bold text-gray-900 uppercase tracking-wide"},_t={class:"block text-sm font-medium text-gray-700 mb-1"},vt=["onUpdate:modelValue","placeholder"],yt=["disabled"],bt={key:1,class:"text-xs text-red-500 text-center"},ht={key:0,class:"tier-wrap"},xt={class:"tier-table"},ft={class:"text-right bg-gray-50 text-gray-500"},kt={key:0},wt={key:1},$t={class:"text-right"},Nt={class:"text-[#e63946] font-bold"},qt={class:"text-gray-400 line-through ml-1 text-xs"},It={key:1,class:"text-gray-900 font-semibold"},Ct={key:4,class:"mt-10 rounded-2xl border border-gray-200 bg-white shadow-sm overflow-hidden"},Tt={class:"flex flex-wrap gap-2 border-b border-gray-100 px-3 sm:px-6 pt-2 sm:pt-3 bg-gray-50/50"},St=["onClick"],Ft={class:"p-6 sm:p-8"},Mt={key:0},Lt={key:0,class:"prose max-w-none text-gray-700"},Pt=["innerHTML"],Ut={key:1,class:"text-sm text-gray-500 italic"},Ot={key:1},Dt=["innerHTML"],Vt={key:1,class:"text-sm text-gray-500 italic"},At={key:2},Ht={class:"grid sm:grid-cols-2 gap-4"},Rt={class:"block text-sm font-medium mb-1.5 text-gray-700"},Bt={class:"block text-sm font-medium mb-1.5 text-gray-700"},Et={class:"block text-sm font-medium mb-1.5 text-gray-700"},zt=["placeholder"],Wt=["disabled"],Qt={key:0},jt={key:1},Jt={key:0,class:"text-[#0e5e6f] font-medium text-sm mt-3 flex items-center gap-2"},Yt={key:1,class:"text-red-600 text-sm mt-3"},Kt={class:"text-xl sm:text-2xl font-bold mb-6 text-gray-900"},Zt={key:0,class:"grid gap-5 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4"},Gt={key:1,class:"grid gap-5 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4"},Xt={key:1,class:"w-full h-40 grid place-items-center text-gray-400 bg-gray-50"},es={class:"p-4 space-y-2 border-t border-gray-50"},ts={class:"text-lg font-bold"},ss={class:"text-[#e63946]"},as={class:"text-gray-400 line-through ml-1 text-sm"},os={key:1,class:"text-[#0e5e6f]"},ns=["onClick"],rs={key:2,class:"text-sm text-gray-500 italic"},ms=Ce({__name:"[slug]",async setup(ie){let S,K;const ce=Te(),{t:h,locale:k,locales:Z}=Se(),{get:E,client:ue}=Ve(),G=Be(),{show:de}=Ae(),p=v(1),w=m(()=>String(ce.params.slug||"")),{data:t,pending:X,error:me}=([S,K]=Fe(()=>He(()=>`pack:${w.value}:${k.value}`,()=>E(`/token-packs/${w.value}`),{server:!0,immediate:!0})),S=await S,K(),S);Me(k,()=>{Re(`pack:${w.value}:${k.value}`)});const y=m(()=>t.value?.category??(t.value?.service_category_id?{id:t.value.service_category_id,name:h("product.category"),slug:void 0}:null)),F=ne({}),M=m(()=>{if(!t.value?.order_by_whatsapp)return!0;const e=t.value.category?.required_inputs;return!e||!e.length?!0:e.every(a=>{const u=typeof a=="string"?a:a.name,c=F[u];return c&&c.trim().length>0})});function pe(){if(!t.value||!M.value)return;const e=t.value,a=e.category?.whatsapp_number||"905555555555",u=e.category?.required_inputs||[];let c=`*New Order Request*
`;c+=`Product: ${e.name}
`,c+=`Qty: ${p.value}
`,c+=`Total Price: $${Number(P.value*p.value).toFixed(2)}

`,u.length>0&&(c+=`*Details:*
`,u.forEach(d=>{const x=typeof d=="string"?d:d.label||d.name,H=typeof d=="string"?d:d.name;c+=`- ${x}: ${F[H]||"N/A"}
`}));const s=`https://wa.me/${a.replace(/[^0-9]/g,"")}?text=${encodeURIComponent(c)}`;window.open(s,"_blank")}function L(e){return(e.pricing_tiers||[]).slice().sort((a,u)=>(a.min_qty||1)-(u.min_qty||1))}function ge(e,a){const u=Math.max(1,Number(a||1)),c=L(e);for(let s=0;s<c.length;s++){const d=c[s],x=d.max_qty??Number.POSITIVE_INFINITY;if(u>=(d.min_qty||1)&&u<=x)return s}return-1}function z(e,a){const u=Math.max(1,Number(e||1)),c=L(a);for(const s of c){const d=s.max_qty??Number.POSITIVE_INFINITY;if(u>=(s.min_qty||1)&&u<=d)return Number((s.sale_price_usd??s.price_usd)||0)}return Number((a.sale_price_usd??a.price_usd)||0)}const P=m(()=>t.value?z(p.value,t.value):0),ee=m(()=>{if(!t.value)return 0;const e=Math.max(1,Number(p.value||1)),a=L(t.value);for(const u of a){const c=u.max_qty??Number.POSITIVE_INFINITY;if(e>=(u.min_qty||1)&&e<=c)return Number(u.sale_price_usd?u.price_usd:0)}return Number(t.value.sale_price_usd?t.value.price_usd:0)}),_e=m(()=>Number(ee.value)>0);function ve(){if(!t.value)return;const e=Math.max(1,Number(p.value||1)),a=z(e,t.value);G.add({product_id:t.value.id,product_type:"token-pack",slug:t.value.slug||String(t.value.id),sku:t.value.sku||t.value.slug||String(t.value.id),name:t.value.name,price:a,qty:e,image:t.value.image_url||null,meta:{tokens:t.value.tokens,base_price_usd:Number(t.value.price_usd||0),sale_price_usd:t.value.sale_price_usd?Number(t.value.sale_price_usd):null,pricing_tiers:t.value.pricing_tiers||null}}),de({img:t.value.image_url||null,title:t.value.name,sku:t.value.sku||t.value.slug||String(t.value.id)})}function ye(e){const a=z(1,e);G.add({product_id:e.id,product_type:"token-pack",slug:e.slug||String(e.id),sku:e.sku||e.slug||String(e.id),name:e.name,price:a,qty:1,image:e.image_url||null,meta:{tokens:e.tokens,base_price_usd:Number(e.price_usd||0),sale_price_usd:e.sale_price_usd?Number(e.sale_price_usd):null,pricing_tiers:e.pricing_tiers||null}})}const be=m(()=>[{key:"desc",label:h("common.description")||"Description"},{key:"faq",label:h("common.faq")||"FAQ"},{key:"contact",label:h("common.contactUs")||"Contact Us"}]),U=v("desc"),_=ne({name:"",email:"",message:""}),O=v(!1),W=v(!1),D=v(null);async function he(){if(t.value){O.value=!0,W.value=!1,D.value=null;try{await ue("/contact",{method:"POST",body:{name:_.name,email:_.email,message:_.message,product_id:t.value.id,product_slug:t.value.slug}}),W.value=!0,_.message=""}catch(e){D.value=e?.data?.message||e?.message||"Failed to send."}finally{O.value=!1}}}const te=m(()=>{const e=me.value;return e?.statusMessage||e?.message||""}),V=v(!1),Q=v([]),A=v(!1),j=v(!1),J=v(null);async function xe(){if(A.value||j.value||!t.value)return;A.value=!0,j.value=!0;const e=t.value.category?.id??t.value.service_category_id??null;try{let a=[];e&&(a=await E("/token-packs",{query:{category_id:e,exclude:t.value.id,limit:12}})),a?.length||(a=(await E("/token-packs")||[]).filter(c=>c.id!==t.value.id&&(c.service_category_id&&c.service_category_id===e||c.category?.id===e)).slice(0,12)),Q.value=a}catch{}finally{A.value=!1}}Le(()=>{if(!J.value)return;const e=new IntersectionObserver(a=>{a.some(u=>u.isIntersecting)&&(xe(),e.disconnect())},{rootMargin:"200px"});e.observe(J.value)});const $=De(),se=Ee(),f=m(()=>{const e=$.public?.siteUrl;return e?String(e).replace(/\/+$/,""):se?.origin?se.origin:window?.location?.origin?window.location.origin:""}),ae=e=>(e??"").replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim(),fe=m(()=>`/product/${t.value?.slug??w.value}`),N=m(()=>`${f.value}${fe.value}`),ke=m(()=>t.value?.seo_title?.trim()||t.value?.name||h("seo.title")||"PIN Code Product"),we=m(()=>t.value?.seo_description?.trim()||ae(t.value?.description).slice(0,160)||h("seo.description")||"Professional Kia / Hyundai PIN code service."),$e=m(()=>{const e=t.value?.image_url||$.public?.ogImage;if(e)return e.startsWith("http")?e:`${f.value}${e}`}),Ne=m(()=>{const e=t.value?.slug??w.value,a=(Z.value||[]).map(c=>c.code||c),u=Z.value?.find?.(c=>c.default)?.code||a[0];return a.map(c=>{const s=c===u?"":`/${c}`;return{hreflang:c,href:`${f.value}${s}/product/${e}`}})});return Pe(()=>{const e=ke.value,a=we.value,u=$e.value,c=[{"@type":"ListItem",position:1,name:"Home",item:`${f.value}/`},{"@type":"ListItem",position:2,name:h("nav.categories")||"Categories",item:`${f.value}/categories`}];y.value&&c.push({"@type":"ListItem",position:3,name:y.value.name,item:`${f.value}/categories/${y.value.slug??y.value.id}`}),c.push({"@type":"ListItem",position:c.length+1,name:t.value?.name||"",item:N.value});const s={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:c},d=Number(P.value??t.value?.price_usd??0).toFixed(2),x=(t.value?.stock_status??"instock")==="outofstock"?"https://schema.org/OutOfStock":"https://schema.org/InStock",H=t.value?{"@context":"https://schema.org","@type":"Product",name:t.value.name,image:u?[u]:void 0,description:ae(t.value.description),category:y.value?.name,sku:t.value.sku||t.value.slug||String(t.value.id),brand:{"@type":"Brand",name:t.value.brand_name||$.public?.siteName||"Brand"},offers:{"@type":"Offer",url:N.value,priceCurrency:"USD",price:d,availability:x,itemCondition:"https://schema.org/NewCondition"}}:null;return{title:e,link:[{rel:"canonical",href:N.value},...Ne.value.map(oe=>({rel:"alternate",hreflang:oe.hreflang,href:oe.href})),{rel:"alternate",hreflang:"x-default",href:N.value}],meta:[{name:"description",content:a},{name:"robots",content:"index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1"},{property:"og:title",content:e},{property:"og:description",content:a},{property:"og:type",content:"product"},{property:"og:url",content:N.value},...u?[{property:"og:image",content:u}]:[],...u?[{property:"og:image:secure_url",content:u}]:[],{property:"og:locale",content:k.value},...$.public?.siteName?[{property:"og:site_name",content:$.public.siteName}]:[],{name:"twitter:card",content:u?"summary_large_image":"summary"},{name:"twitter:title",content:e},{name:"twitter:description",content:a},...u?[{name:"twitter:image",content:u}]:[]],script:[{id:"ld-breadcrumb",type:"application/ld+json",innerHTML:JSON.stringify(s)},...H?[{id:"ld-product",type:"application/ld+json",innerHTML:JSON.stringify(H)}]:[]],__dangerouslyDisableSanitizersByTagID:{"ld-breadcrumb":["innerHTML"],"ld-product":["innerHTML"]}}}),(e,a)=>{const u=qe,c=Ie;return r(),l("div",ze,[o(X)?g("",!0):(r(),l("nav",We,[n("ol",Qe,[n("li",null,[R(u,{to:"/",class:"hover:text-[#0e5e6f] hover:underline transition-colors"},{default:Y(()=>[T(i(e.$t("common.home")||"Home"),1)]),_:1})]),a[10]||(a[10]=n("li",{class:"px-1 text-gray-400"},"/",-1)),n("li",je,i(o(t)?.name),1)])])),o(X)?(r(),l("div",Je,[...a[11]||(a[11]=[Ue('<div class="h-[320px] rounded-2xl bg-gray-100 animate-pulse"></div><div class="space-y-4"><div class="h-10 w-4/5 bg-gray-100 rounded animate-pulse"></div><div class="h-6 w-2/5 bg-gray-100 rounded animate-pulse"></div><div class="h-12 w-40 bg-gray-100 rounded animate-pulse"></div><div class="h-24 bg-gray-100 rounded animate-pulse"></div></div>',2)])])):o(te)?(r(),l("div",Ye,i(o(te)),1)):o(t)?(r(),l("div",Ke,[n("div",Ze,[n("button",{type:"button",class:"block w-full text-left group",onClick:a[0]||(a[0]=s=>V.value=!0),"aria-label":"Open image"},[o(t).image_url?(r(),re(c,{key:0,src:o(t).image_url,format:"webp",modifiers:{fit:"contain",background:"white"},class:"w-full rounded-2xl border border-gray-200 bg-white p-4 shadow-sm group-hover:shadow-md transition duration-300 group-hover:border-[#3adbc4]/50",alt:""},null,8,["src"])):(r(),l("div",Ge,i(e.$t("common.noImage")||"No image"),1))])]),n("aside",Xe,[n("header",et,[n("h1",tt,i(o(t).name),1),n("div",st,[n("span",at,i(o(t).tokens)+" "+i(e.$t("tokens")||"tokens"),1),o(t).sku?(r(),l("span",ot," SKU: "+i(o(t).sku),1)):g("",!0),o(y)?(r(),l("span",{key:1,to:`/categories/${o(y).slug??o(y).id}`,class:"badge badge-cat transition"},i(o(y).name),9,nt)):g("",!0)])]),n("div",rt,[o(_e)?(r(),l("div",lt,[n("div",it," $"+i(Number(o(P)).toFixed(2)),1),n("div",ct," $"+i(Number(o(ee)).toFixed(2)),1)])):(r(),l("div",ut," $"+i(Number(o(P)).toFixed(2)),1))]),n("div",dt,[n("div",mt,[n("button",{type:"button",class:"qty-btn",onClick:a[1]||(a[1]=s=>p.value=Math.max(1,o(p)-1)),"aria-label":"Decrease"}," – "),q(n("input",{"onUpdate:modelValue":a[2]||(a[2]=s=>Oe(p)?p.value=s:null),type:"number",min:"1",class:"qty-input"},null,512),[[I,o(p),void 0,{number:!0}]]),n("button",{type:"button",class:"qty-btn",onClick:a[3]||(a[3]=s=>p.value=Number(o(p))+1),"aria-label":"Increase"}," + ")]),o(t).order_by_whatsapp?(r(),l("div",pt,[o(t).category?.required_inputs?.length?(r(),l(b,{key:0},[n("h3",gt,i(e.$t("common.required_info")||"Required Information"),1),(r(!0),l(b,null,C(o(t).category.required_inputs,(s,d)=>(r(),l("div",{key:d},[n("label",_t,[T(i(typeof s=="string"?s:s.label||s.name)+" ",1),a[12]||(a[12]=n("span",{class:"text-red-500"},"*",-1))]),q(n("input",{"onUpdate:modelValue":x=>o(F)[typeof s=="string"?s:s.name]=x,type:"text",class:"input w-full bg-white",placeholder:typeof s=="string"?"":s.placeholder||""},null,8,vt),[[I,o(F)[typeof s=="string"?s:s.name]]])]))),128))],64)):g("",!0),n("button",{class:B(["btn w-full bg-[#25D366] hover:bg-[#128C7E] border-none text-white !bg-none",{"opacity-50 cursor-not-allowed":!o(M)}]),style:{"background-color":"#25D366"},onClick:pe,disabled:!o(M)},[a[13]||(a[13]=n("svg",{class:"w-6 h-6 mr-2 fill-current",viewBox:"0 0 24 24"},[n("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})],-1)),T(" "+i(e.$t("btn.orderWhatsApp")||"Order on WhatsApp"),1)],10,yt),o(M)?g("",!0):(r(),l("p",bt," * "+i(e.$t("msg.fillRequired")||"Please fill all required fields."),1))])):(r(),l("button",{key:1,class:"btn w-full sm:w-auto",onClick:a[4]||(a[4]=s=>ve())},i(e.$t("btn.addToCart")||"Add to Cart"),1))]),o(t)?.pricing_tiers?.length?(r(),l("div",ht,[n("table",xt,[n("thead",null,[n("tr",null,[n("th",{class:B(["bg-gray-50 text-gray-500",o(k)==="ar"?"text-right":"text-left"])},i(e.$t("common.quantity")||"Quantity"),3),n("th",ft,i(e.$t("common.price")||"Price"),1)])]),n("tbody",null,[(r(!0),l(b,null,C(L(o(t)),(s,d)=>(r(),l("tr",{key:d,class:B(d===ge(o(t),o(p))?"tier-row--active":"hover:bg-gray-50 transition-colors")},[n("td",null,[s.max_qty?(r(),l("span",kt,i(s.min_qty)+"–"+i(s.max_qty),1)):(r(),l("span",wt,i(s.min_qty)+"+",1))]),n("td",$t,[s.sale_price_usd?(r(),l(b,{key:0},[n("span",Nt," $"+i(Number(s.sale_price_usd).toFixed(2)),1),n("span",qt," $"+i(Number(s.price_usd).toFixed(2)),1)],64)):(r(),l("span",It," $"+i(Number(s.price_usd).toFixed(2)),1))])],2))),128))])])])):g("",!0)])])):g("",!0),o(t)?(r(),l("div",Ct,[n("div",Tt,[(r(!0),l(b,null,C(o(be),s=>(r(),l("button",{key:s.key,type:"button",class:B(["px-4 py-3 rounded-t-xl text-sm sm:text-base transition-all focus:outline-none",o(U)===s.key?"bg-white border-b-2 border-[#3adbc4] text-[#0e5e6f] font-bold -mb-px shadow-sm":"text-gray-500 hover:text-[#0e5e6f] hover:bg-white/50"]),onClick:d=>U.value=s.key},i(s.label),11,St))),128))]),n("div",Ft,[o(U)==="desc"?(r(),l("section",Mt,[o(t).description?(r(),l("div",Lt,[n("div",{innerHTML:o(t).description},null,8,Pt)])):(r(),l("p",Ut,i(e.$t("common.noDescription")||"No description available."),1))])):o(U)==="faq"?(r(),l("section",Ot,[o(t).faq?(r(),l("div",{key:0,class:"prose max-w-none text-gray-700",innerHTML:o(t).faq},null,8,Dt)):(r(),l("p",Vt,i(e.$t("common.noFaq")||"No FAQ available."),1))])):(r(),l("section",At,[n("form",{class:"space-y-5 max-w-2xl",onSubmit:le(he,["prevent"])},[n("div",Ht,[n("div",null,[n("label",Rt,i(e.$t("common.name")||"Name"),1),q(n("input",{"onUpdate:modelValue":a[5]||(a[5]=s=>o(_).name=s),type:"text",required:"",class:"input"},null,512),[[I,o(_).name,void 0,{trim:!0}]])]),n("div",null,[n("label",Bt,i(e.$t("common.email")||"Email"),1),q(n("input",{"onUpdate:modelValue":a[6]||(a[6]=s=>o(_).email=s),type:"email",required:"",class:"input"},null,512),[[I,o(_).email,void 0,{trim:!0}]])])]),n("div",null,[n("label",Et,i(e.$t("common.message")||"Message"),1),q(n("textarea",{"onUpdate:modelValue":a[7]||(a[7]=s=>o(_).message=s),rows:"5",required:"",class:"input resize-y",placeholder:e.$t("common.contactPlaceholder")||"How can we help?"},null,8,zt),[[I,o(_).message,void 0,{trim:!0}]])]),n("button",{class:"btn px-8",disabled:o(O)},[o(O)?(r(),l("span",jt,i(e.$t("common.sending")||"Sending…"),1)):(r(),l("span",Qt,i(e.$t("common.send")||"Send Message"),1))],8,Wt),o(W)?(r(),l("p",Jt,[a[14]||(a[14]=n("span",{class:"text-[#3adbc4] text-lg"},"✔",-1)),T(" "+i(e.$t("common.sentThanks")||"Thanks! We will reply shortly."),1)])):g("",!0),o(D)?(r(),l("p",Yt,i(o(D)),1)):g("",!0)],32)]))])])):g("",!0),o(t)?(r(),l("section",{key:5,ref_key:"relatedSentinel",ref:J,class:"mt-12 border-t border-gray-100 pt-8"},[n("h2",Kt,i(e.$t("product.related")||"Related Token Packs"),1),o(A)?(r(),l("div",Zt,[(r(),l(b,null,C(4,s=>n("div",{key:s,class:"h-64 rounded-2xl bg-gray-100 animate-pulse"})),64))])):o(Q).length?(r(),l("div",Gt,[(r(!0),l(b,null,C(o(Q),s=>(r(),l("article",{key:s.id,class:"bg-white rounded-2xl border border-gray-200 shadow-sm hover:shadow-lg hover:border-[#3adbc4]/40 transition-all duration-300 overflow-hidden group"},[R(u,{to:`/product/${s.slug}`,class:"block relative"},{default:Y(()=>[s.image_url?(r(),re(c,{key:0,src:s.image_url,format:"webp",modifiers:{fit:"contain",background:"white"},class:"w-full bg-white p-4 aspect-[4/3] object-contain group-hover:scale-105 transition-transform duration-300",alt:""},null,8,["src"])):(r(),l("div",Xt,"—"))]),_:2},1032,["to"]),n("div",es,[R(u,{to:`/product/${s.slug}`,class:"block font-bold leading-tight hover:text-[#0e5e6f] transition-colors line-clamp-2 text-gray-900"},{default:Y(()=>[T(i(s.name),1)]),_:2},1032,["to"]),n("div",ts,[s.sale_price_usd&&!s.pricing_tiers?.length?(r(),l(b,{key:0},[n("span",ss,"$"+i(Number(s.sale_price_usd).toFixed(2)),1),n("span",as,"$"+i(Number(s.price_usd).toFixed(2)),1)],64)):(r(),l("span",os,"$"+i(Number(s.price_usd).toFixed(2)),1))]),n("button",{class:"btn w-full mt-2 text-sm py-2",onClick:d=>ye(s)},i(e.$t("btn.addToCart")||"Add to Cart"),9,ns)])]))),128))])):o(j)?(r(),l("p",rs,i(e.$t("product.noRelated")||"No related packs found."),1)):g("",!0)],512)):g("",!0),o(V)&&o(t)?.image_url?(r(),l("div",{key:6,class:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 grid place-items-center p-4",onClick:a[9]||(a[9]=le(s=>V.value=!1,["self"]))},[n("button",{class:"absolute top-4 right-4 text-white hover:text-[#3adbc4] transition text-4xl leading-none",onClick:a[8]||(a[8]=s=>V.value=!1)},"×"),R(c,{src:o(t).image_url,format:"webp",class:"w-full lg:w-3/5 rounded-2xl max-w-[800px] bg-white p-4 shadow-2xl",alt:""},null,8,["src"])])):g("",!0)])}}});export{ms as default};
