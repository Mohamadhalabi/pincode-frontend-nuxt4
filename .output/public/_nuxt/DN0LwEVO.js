import{i as I,f as g,c as p,o as v,a as t,t as c,h as a,m as C,z as V,I as D,e as E,aq as U,ar as O,j,l as q,u as z,x as F,K as B,k as R,b as L,a4 as G,w as J}from"./ClNtL1l2.js";import{u as P}from"./C8iguzjs.js";import{_ as Q}from"./DlAUqK2U.js";const W={class:"h-14 flex items-center gap-4"},X={class:"ml-6 flex items-center gap-1"},Y=["value"],Z={class:"flex items-center gap-3"},_={key:0,class:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 rounded-full text-[11px] grid place-items-center bg-red-600 text-white"},ee=I({__name:"HeaderDesktop",props:{isLoggedIn:{type:Boolean},helloText:{},cartCount:{},locale:{},t:{type:Function}},emits:["home","kia-before","kia-after","login","account","cart","update:locale"],setup(k,{emit:b}){const l=k,r=b,y=g(()=>typeof l.locale=="object"&&l.locale!==null&&"value"in l.locale?l.locale.value:l.locale);function i(m){const n=m.target.value;r("update:locale",n)}return(m,n)=>(v(),p("div",W,[t("button",{class:"flex items-center gap-2 group shrink-0",onClick:n[0]||(n[0]=d=>r("home"))},[...n[6]||(n[6]=[t("div",{class:"h-9 w-9 rounded-xl bg-brand/10 grid place-items-center text-brand font-bold"}," PK ",-1),t("span",{class:"font-semibold text-gray-800 group-hover:text-brand transition"}," PIN Code ",-1)])]),t("nav",X,[t("button",{class:"px-3 py-2 text-sm font-medium text-gray-700 hover:text-brand transition",onClick:n[1]||(n[1]=d=>r("kia-before"))},c(l.t("nav.kiaBefore2017")||"Kia / Hyundai VIN to PIN (before 2017)"),1),t("button",{class:"px-3 py-2 text-sm font-medium text-gray-700 hover:text-brand transition",onClick:n[2]||(n[2]=d=>r("kia-after"))},c(l.t("nav.kiaAfter2017")||"Kia / Hyundai VIN to PIN (2017 and after)"),1),t("select",{value:a(y),class:"ml-1 border border-gray-200 rounded-lg px-2 py-1 text-sm bg-white hover:border-brand cursor-pointer transition",onChange:i},[...n[7]||(n[7]=[t("option",{value:"en"},"EN",-1),t("option",{value:"ar"},"العربية",-1)])],40,Y)]),n[9]||(n[9]=t("div",{class:"flex-1"},null,-1)),t("div",Z,[l.isLoggedIn?(v(),p("button",{key:0,class:"px-3 py-2 text-sm font-medium text-gray-700 hover:text-brand transition",onClick:n[3]||(n[3]=d=>r("account"))},c(l.helloText),1)):(v(),p("button",{key:1,class:"px-3 py-2 text-sm font-medium text-gray-700 hover:text-brand transition",onClick:n[4]||(n[4]=d=>r("login"))},c(l.t("auth.login")||"Login"),1)),t("button",{class:"relative inline-flex h-9 w-9 items-center justify-center rounded-lg border border-gray-200 bg-white text-gray-700 hover:bg-gray-50","aria-label":"Cart",onClick:n[5]||(n[5]=d=>r("cart"))},[n[8]||(n[8]=t("svg",{class:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"9",cy:"21",r:"1"}),t("circle",{cx:"20",cy:"21",r:"1"}),t("path",{d:"M1 1h4l2.2 10.9a2 2 0 0 0 2 1.6h9.7a2 2 0 0 0 2-1.6L23 6H6"})],-1)),l.cartCount>0?(v(),p("span",_,c(l.cartCount),1)):C("",!0)])])]))}}),te=Object.assign(ee,{__name:"HeaderDesktop"}),oe={class:"py-3"},ne={class:"flex items-center justify-between"},le={class:"flex items-center gap-2"},se={class:"flex items-center gap-2"},ae={key:0,class:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 rounded-full text-[11px] grid place-items-center bg-red-600 text-white"},re=I({__name:"HeaderMobile",props:{isLoggedIn:{type:Boolean},helloText:{},cartCount:{},locale:{},t:{type:Function},open:{type:Boolean}},emits:["toggle","home","categories","lookups","login","account","cart"],setup(k,{emit:b}){const l=k,r=b;return(y,i)=>(v(),p("div",oe,[t("div",ne,[t("div",le,[t("button",{class:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-gray-200 text-gray-700 hover:bg-gray-50","aria-label":"Menu",onClick:i[0]||(i[0]=m=>r("toggle"))},[...i[4]||(i[4]=[t("span",{class:"i-lucide:menu"},null,-1)])]),t("button",{class:"flex items-center gap-2",onClick:i[1]||(i[1]=m=>r("home"))},[...i[5]||(i[5]=[t("div",{class:"h-9 w-9 rounded-xl bg-brand/10 grid place-items-center text-brand font-bold"},"PK",-1),t("span",{class:"font-semibold text-gray-800"},"PIN Code",-1)])])]),t("div",se,[V(t("select",{"onUpdate:modelValue":i[2]||(i[2]=m=>l.locale=m),class:"border border-gray-200 rounded-lg px-2 py-1 text-sm bg-white hover:border-brand"},[...i[6]||(i[6]=[t("option",{value:"en"},"EN",-1),t("option",{value:"ar"},"العربية",-1)])],512),[[D,l.locale]]),t("button",{class:"relative inline-flex h-9 w-9 items-center justify-center rounded-lg border border-gray-200 bg-white text-gray-700 hover:bg-gray-50","aria-label":"Cart",onClick:i[3]||(i[3]=m=>r("cart"))},[i[7]||(i[7]=t("svg",{class:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"9",cy:"21",r:"1"}),t("circle",{cx:"20",cy:"21",r:"1"}),t("path",{d:"M1 1h4l2.2 10.9a2 2 0 0 0 2 1.6h9.7a2 2 0 0 0 2-1.6L23 6H6"})],-1)),l.cartCount>0?(v(),p("span",ae,c(l.cartCount),1)):C("",!0)])])])]))}}),ie=Object.assign(re,{__name:"HeaderMobile"}),ue={class:"sticky top-0 z-40 border-b border-gray-200 bg-white/90 backdrop-blur"},de={class:"mx-auto w-full max-w-6xl px-4"},ce={key:0,class:"md:hidden border-t border-gray-200"},ge={class:"mx-auto max-w-6xl px-4 py-3 flex flex-col gap-2"},pe={class:"flex items-center gap-2 pt-2"},ve={class:"text-sm text-gray-600"},me=["value"],xe={class:"pt-2"},fe={key:0,class:"pt-1"},be=I({__name:"AppHeader",setup(k){const b=typeof P=="function"?P():null,l=E(),{t:r,locale:y}=l,i=U(),m=O(),n=g(()=>{const o=l?.locales;return(Array.isArray(o?.value)?o.value:Array.isArray(o)?o:null)??[{code:"en",dir:"ltr"}]}),d=g(()=>{const o=y;return o&&typeof o=="object"&&"value"in o?o.value:String(o)});function A(o){const e=y;e&&typeof e=="object"&&"value"in e?e.value=o:l.setLocale?l.setLocale(o):l.locale=o}const f=typeof j=="function"?j():null,w=g(()=>f&&f.user?f.user.value:null),$=g(()=>!!(localStorage.getItem("auth_token")||localStorage.getItem("pk:token"))||!!w.value),H=g(()=>{const o=w.value;if(!o)return"";const e=o.first_name??o.firstName,s=o.last_name??o.lastName;return(o.name||[e,s].filter(Boolean).join(" ")).trim()||String(o.email||"").split("@")[0]||"Account"}),h=g(()=>r("auth.hello",{name:H.value})||`Hello ${H.value||"Account"}`);q(async()=>{try{(localStorage.getItem("pk:token")||localStorage.getItem("auth_token"))&&f&&!w.value&&typeof f.reloadUser=="function"&&await f.reloadUser()}catch{}});const M=g(()=>n.value.find(o=>o.code===d.value)??{code:d.value,dir:"ltr"}),S=g(()=>M.value?.dir||"ltr");z({htmlAttrs:{lang:()=>d.value,dir:()=>S.value}}),F(()=>d.value,(o,e)=>{o&&o!==e&&B(m(o))});const K=g(()=>{const o=b?.items;return Array.isArray(o?.value)?o.value:[]}),N=g(()=>K.value.reduce((o,e)=>o+Number(e?.qty||0),0)),x=R(!1),u=o=>B(i(o));async function T(){try{await f?.logout?.()}finally{try{await b?.clear?.()}catch{}u("/")}}return(o,e)=>(v(),p("header",ue,[t("div",de,[L(te,{class:"hidden md:flex","is-logged-in":a($),"hello-text":a(h),"cart-count":a(N),locale:a(d),t:a(r),onHome:e[0]||(e[0]=s=>u("/")),onKiaBefore:e[1]||(e[1]=s=>u("/services/kia-hyundai-before-2017")),onKiaAfter:e[2]||(e[2]=s=>u("/services/kia-hyundai-after-2017")),onLogin:e[3]||(e[3]=s=>u("/login")),onAccount:e[4]||(e[4]=s=>u("/account")),onCart:e[5]||(e[5]=s=>u("/cart")),"onUpdate:locale":e[6]||(e[6]=s=>A(s))},null,8,["is-logged-in","hello-text","cart-count","locale","t"]),L(ie,{class:"md:hidden","is-logged-in":a($),"hello-text":a(h),"cart-count":a(N),locale:a(d),t:a(r),open:a(x),onToggle:e[7]||(e[7]=s=>x.value=!a(x)),onHome:e[8]||(e[8]=s=>u("/")),onCategories:e[9]||(e[9]=s=>u("/categories")),onLookups:e[10]||(e[10]=s=>u("/lookups")),onLogin:e[11]||(e[11]=s=>u("/login")),onAccount:e[12]||(e[12]=s=>u("/account")),onCart:e[13]||(e[13]=s=>u("/cart"))},null,8,["is-logged-in","hello-text","cart-count","locale","t","open"])]),L(G,{name:"slide-fade"},{default:J(()=>[a(x)?(v(),p("div",ce,[t("div",ge,[t("button",{class:"px-3 py-2 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 text-left",onClick:e[14]||(e[14]=s=>{x.value=!1,u("/categories")})},c(a(r)("nav.categories")||"Categories"),1),t("button",{class:"px-3 py-2 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 text-left",onClick:e[15]||(e[15]=s=>{x.value=!1,u("/lookups")})},c(a(r)("nav.lookups")||"My Lookups"),1),t("div",pe,[t("label",ve,c(a(r)("common.language")||"Language"),1),t("select",{value:a(d),class:"border border-gray-200 rounded-lg px-2 py-1 text-sm bg-white hover:border-brand transition",onChange:e[16]||(e[16]=s=>A(s.target.value))},[...e[20]||(e[20]=[t("option",{value:"en"},"EN",-1),t("option",{value:"ar"},"العربية",-1)])],40,me)]),t("div",xe,[a($)?(v(),p("button",{key:0,class:"btn w-full",onClick:e[17]||(e[17]=s=>{x.value=!1,u("/account")})},c(a(h)),1)):(v(),p("button",{key:1,class:"btn w-full",onClick:e[18]||(e[18]=s=>u("/login"))},c(a(r)("auth.login")||"Login"),1))]),a($)?(v(),p("div",fe,[t("button",{class:"btn-ghost w-full",onClick:e[19]||(e[19]=s=>{x.value=!1,T()})},c(a(r)("auth.logout")||"Logout"),1)])):C("",!0)])])):C("",!0)]),_:1})]))}}),we=Q(be,[["__scopeId","data-v-cf8cbba4"]]);export{we as default};
